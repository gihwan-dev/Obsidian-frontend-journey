# 토큰 비용 추적 & 예산 관리

#claude-gui-app #중기 #모니터링

## 요약
세션별, 프로젝트별, 시간별 토큰 사용량 및 비용을 추적하고, 예산 상한선 설정 및 경고 알림 기능을 구현한다.

## 왜?
- Claude API 비용이 사용량에 비례하므로 비용 가시성은 필수
- 무한 루프, 워크플로우 등 자동화 기능은 비용 폭주 가능성이 있음
- 예산 관리 없이는 파워유저도 안심하고 자동화를 사용할 수 없음

## 어떻게?
1. **토큰 추적**:
   - JSON 스트림에서 토큰 사용량 데이터 추출
   - 입력/출력 토큰 별도 집계
   - 세션별, 프로젝트별, 일/주/월 단위 집계
2. **비용 계산**:
   - 모델별 토큰 단가 테이블 관리
   - 실시간 비용 표시 (세션 진행 중)
3. **예산 상한선**:
   - 세션별, 일별, 월별 예산 설정
   - 상한 도달 시 경고 알림 + 자동 일시정지 옵션
4. **대시보드 UI**:
   - 차트: 시간대별 사용량 추이, 프로젝트별 비교
   - 요약 카드: 오늘 사용량, 이번 달 사용량, 남은 예산

## 예상 효과
- 비용 가시성으로 예산 관리 가능
- 비용 폭주 사전 방지
- 사용 패턴 분석으로 비용 최적화 인사이트 제공

## 작업 로그
