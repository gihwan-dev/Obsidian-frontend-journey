# 📌 ULP란?

**ULP = Unit in the Last Place**

> 어떤 수에서 표현 가능한 “가장 작은 차이”

즉,

> 그 숫자 바로 옆에 있는 다음 표현 가능한 숫자까지의 간격

---

# 📐 예시로 이해하기

## 🔹 작은 수 근처

1 근처에서는:

```
1.0000000000000000
1.0000000000000002
```

두 수의 차이:

```
≈ 2.22 × 10^-16
```

이게 1 근처에서의 ULP.

---

## 🔹 큰 수 근처

10¹⁵ 근처에서는:

```
1000000000000000
1000000000000002
```

간격이 2가 된다.

즉,

> 10¹⁵ 근처에서는 1을 더해도 표현되지 않을 수 있다.

---

# 📌 핵심 원리

부동소수점은 이렇게 생겼다:

$$
\text{값} = \text{유효숫자} \times 2^{\text{지수}}  
$$

정밀도(유효숫자 비트 수)는 **고정**되어 있다.

따라서:

- 지수가 커질수록
    
- 표현 가능한 숫자 사이 간격도 커진다.
    

즉,

$$
\text{ULP} \propto 2^{\text{Exponent}}  
$$

---

# 🔥 직관적 요약

|위치|ULP 크기|
|---|---|
|1 근처|매우 작음|
|10¹⁵ 근처|매우 큼|
|10⁻¹⁵ 근처|매우 작음|

👉 숫자가 클수록 정밀도는 “거칠어짐”.

---

# 📌 왜 중요한가?

뉴턴 반복에서:

$$
y_{n+1} - y_n  
$$

이 ULP보다 작아지면:

```
y_{n+1} === y_n
```

이 되어버린다.

더 이상 개선 불가능.

---

# 🎯 한 줄 정의

> ULP는 “그 숫자에서 한 칸 움직였을 때의 거리”다.

---

원하면 내가:

- 실제 JS 코드로 ULP 계산하는 방법
- 왜 2^-52가 자주 등장하는지 설명
- 머신 엡실론(machine epsilon)과 ULP 차이

짧게 더 정리해줄까?