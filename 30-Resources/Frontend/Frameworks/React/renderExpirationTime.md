## React의 `renderExpirationTime`: 과거의 흔적

**`renderExpirationTime`은 React의 과거 버전(React 18 이전)에서 업데이트의 우선순위를 결정하고 렌더링 작업을 스케줄링하기 위해 사용되던 내부적인 메커니즘입니다.** 간단히 말해, 각 업데이트에 "만료 시간"을 부여하여 언제까지 이 작업이 처리되어야 하는지를 나타내는 값이었죠.

이 값이 작을수록 더 높은 우선순위를 의미했으며, React는 이 값을 기준으로 어떤 업데이트를 먼저 처리할지, 또는 여러 업데이트를 함께 묶어서(배칭, batching) 처리할지 결정했습니다.

### `renderExpirationTime`의 작동 방식

`renderExpirationTime`은 크게 두 가지 역할을 수행했습니다.

1. **우선순위 결정**: 사용자의 클릭과 같은 즉각적인 상호작용은 짧은 만료 시간을 받아 동기적으로 처리되었습니다. 반면, 데이터 로딩과 같이 덜 긴급한 업데이트는 더 긴 만료 시간을 받아 비동기적으로 처리될 수 있었습니다. 이를 통해 긴급한 작업이 덜 긴급한 작업에 의해 막히는 것을 방지했습니다.
    
2. **배칭(Batching)**: 짧은 시간 안에 발생하는 여러 상태 업데이트가 있다면, React는 이들을 하나의 렌더링 작업으로 묶어 처리했습니다. `renderExpirationTime`은 이 과정에서 업데이트들을 그룹화하는 기준이 되었습니다.
    

하지만 이 `ExpirationTime` 모델은 몇 가지 한계를 가지고 있었습니다. 특히, 하나의 파이버(Fiber) 노드가 단 하나의 만료 시간만 가질 수 있었기 때문에, 높은 우선순위의 업데이트가 낮은 우선순위의 작업을 중단시키는 등 복잡한 동시성(Concurrency) 시나리오를 효과적으로 처리하기 어려웠습니다.

---

### 현재: `Lane` 모델의 등장

**React 18에서 동시성 렌더링(Concurrent Rendering)이 정식으로 도입되면서 `renderExpirationTime` 모델은 **`Lane`** 모델로 대체되었습니다.**

`Lane` 모델은 업데이트의 우선순위를 31개의 "차선(Lane)"에 비유하는 훨씬 더 정교하고 유연한 시스템입니다. 각 차선은 특정 우선순위를 나타내며, 비트마스크(bitmask) 연산을 통해 관리됩니다.

#### `Lane` 모델의 장점

- **다중 우선순위 처리**: 하나의 파이버 노드가 여러 `Lane`(즉, 여러 우선순위)을 동시에 가질 수 있습니다. 이를 통해 React는 다양한 우선순위의 업데이트를 훨씬 더 잘 조율할 수 있습니다.
    
- **더 나은 동시성 제어**: 사용자의 입력과 같은 긴급한 업데이트가 진행 중인 덜 중요한 렌더링 작업을 중단시키고 먼저 처리된 후, 중단되었던 작업을 자연스럽게 이어서 할 수 있게 되었습니다. 이는 사용자 경험(UX)을 크게 향상시킵니다.
    
- **정교한 스케줄링**: `useTransition`과 같은 새로운 API를 통해 개발자가 직접 특정 업데이트의 우선순위를 낮춰 UI의 반응성을 유지할 수 있게 해줍니다.
    

**결론적으로, `renderExpirationTime`은 React가 동시성 기능을 구현하기 위해 거쳐온 중요한 진화 과정의 일부입니다.** 현재는 더 발전된 `Lane` 모델이 그 역할을 대신하고 있으며, 이는 오늘날 React의 부드럽고 반응성 높은 사용자 경험을 가능하게 하는 핵심 기술이라고 할 수 있습니다.
