
> 원문: https://www.natemeyvis.com/front-end-maximalism/?ck_subscriber_id=3625868192

## 핵심 질문

항상 나오는 질문이 있습니다:

**Q: 백엔드를 호출하는 프론트엔드가 있습니다. 지금 해야 할 일이 있고, 나중에 더 많은 일을 해야 할 수도 있습니다. 백엔드가 프론트엔드에 데이터를 전달하기 전에 얼마나 많은 필터링과 전처리를 해야 할까요?**

제가 좋아하는 답변은 이것입니다:

**A: 가능한 한 최소한으로.**

## 예시들

**제품 페이지**: 긴 제품 목록이 있는 페이지가 있다고 가정해봅시다. 사용자가 제품 중 하나를 선택하면 세부 정보를 볼 수 있습니다. 먼저 목록을 가져온 다음 선택이 발생할 때 특정 제품의 세부 정보를 가져오는 것이 유혹적입니다. 하지만 모든 제품 세부 정보를 미리 가져와서 로컬 상태 관리를 사용하여 어떤 세부 정보를 표시할지 결정하는 것이 더 나은 경우가 많습니다.

**코치 대시보드**: 코치가 선수들의 통계를 볼 수 있는 대시보드를 만든다고 가정해봅시다. 코치가 일부 선수와 필터를 입력하면 데이터가 표시됩니다. 쿼리를 백엔드에 전달하고 필터링된 데이터를 가져오는 대신, 페이지 로드 시 모든 관련 데이터를 가져와서 코치가 선수와 쿼리를 입력할 때 업데이트하는 것을 고려하세요.

**플래시카드 사이트**: 사용자가 학습할 카드의 하위 집합을 선택할 수 있는 플래시카드 사이트를 운영한다고 가정해봅시다. 현재 학습 설정을 백엔드로 보내는 대신, 지금 학습하고 싶어할 대부분 또는 모든 카드를 가져오고, 특이한 요청을 할 때만 다른 카드를 가져오세요.

## 왜 이 방식이 흔하지 않을까?

대부분의 엔지니어는 이런 방식으로 문제에 접근하지 않습니다. 이것은 주로 심리적, 사회적 이유 때문이라고 생각합니다. 그냥 일반적인 방식이 아니기 때문입니다. 쿼리나 필터링 같은 것들은 백엔드스럽게 느껴지지 프론트엔드스럽게 느껴지지 않으며, 모든 관련 데이터를 프론트엔드로 보내는 것은 조잡하게 느껴집니다.

하지만 실무 엔지니어들에게 필기 시험을 보게 하고, 백엔드와 프론트엔드 간 작업을 나누는 데 사용해야 할 원칙에 대한 질문을 한다면, 다음과 같은 답변을 많이 받을 것입니다:

- 시스템의 어느 부분(네트워크 연결 포함)도 처리할 수 없는 것보다 많은 데이터를 보내지 마세요
- 코드 복잡성을 최소화하세요
- 사용자 흐름의 복잡성을 최소화하세요
- 가능한 경우 캡슐화를 유지하세요
- 보안 취약점을 만들지 마세요
- 등등...

**프론트엔드 극대화**는 현대적 조건과 광범위한 표준 애플리케이션에서 이러한 고려사항들이 현재보다 프론트엔드에서 훨씬 더 많이, 백엔드에서 훨씬 더 적게 해야 한다는 관점입니다.

## 프론트엔드 극대화를 사용하지 말아야 할 때

물론 이것은 일반적인 관찰이지 보편적인 것은 아닙니다. 백엔드에서 많은 데이터 처리를 유지해야 하는 두 가지 큰 이유가 있습니다.

### 1. 데이터가 너무 많을 때

때로는 프론트엔드에 전달하기에 데이터가 너무 많습니다. 그럴 때는 어쩔 수 없습니다. 백엔드에서 필터링, 페이지네이션, 잘라내기 또는 제한을 해야 합니다.

하지만 이러한 결론을 내리기 전에 신중하게 검토하세요. 동료들이 프론트엔드 극대화 솔루션이 데이터 측면에서 금지적이라고 말했지만, 실제로 해당 데이터가 표준 .jpg 파일보다 작았던 경우를 셀 수 없이 많이 경험했습니다.

확장성 이유로 프론트엔드 극대화를 거부하기는 쉽습니다. 지금은 데이터가 너무 많지 않더라도(주장에 따르면) 나중에는 너무 많아질 것이거나, 적어도 그럴 수 있다는 것입니다. 이러한 주장은 대개 실패합니다.

더 중요하지만 논란의 여지가 있는 것은, 시스템의 규모가 언젠가 프론트엔드 극대화 접근 방식을 방해할 것이라고 믿을 만한 이유가 있더라도, **갈의 법칙(Gall's Law)** 때문에 지금 프론트엔드 극대화를 사용하는 것이 더 나을 수 있다는 것입니다:

> 작동하는 복잡한 시스템은 항상 작동했던 단순한 시스템에서 진화한 것으로 밝혀집니다. 처음부터 설계된 복잡한 시스템은 절대 작동하지 않으며 작동하도록 패치할 수도 없습니다. 작동하는 단순한 시스템부터 다시 시작해야 합니다.

영원히 작동하지 않을 곳에서도—그리고 다시 말하지만, 그것은 대부분의 엔지니어가 생각하는 것보다 드뭅니다—지금은 작동하는 경우가 많으며, 지금 작동하게 만드는 가장 단순하고 깨끗한 방법입니다. 이것은 과소평가되고 있습니다.

### 2. 보안 문제

사용자가 가져서는 안 되는 데이터를 프론트엔드로 절대 보내지 마세요. 보내되 표시하지 않는 것은 나쁜 타협입니다. 데이터가 여전히 네트워크를 통해 전송되며, 최소한 일부 공격자는 정교하다고 가정해야 합니다.

하지만 프론트엔드와 백엔드 간 업무 분담은 보안 트레이드오프를 수반한다는 것을 기억하세요. 프론트엔드 극대화 솔루션이 더 안전할 수 있습니다. 백엔드에 더 많고 세밀한 동작을 구축할수록 공격 표면이 증가합니다.

## 프론트엔드 극대화의 이점

프론트엔드 극대화 솔루션을 구현할 수 있다면, 다음과 같은 이점을 자주 얻을 수 있습니다:

- **사용자 경험 속도 향상**
- **페이지네이션, 쿼리 구성 및 표준 데이터 검색 패러다임의 다른 측면과 관련된 버그 제거**
- **새로운 기능 추가 비용 감소** (일종의 미래 대비). 데이터가 이미 프론트엔드에 있다는 것을 알면, 고려하지 않았을 기능에 대한 쉬운 경로를 볼 수 있습니다
- **API 호출 제거**
- **개인 정보 보호 개선 또는 사용자 데이터 최소화**: 데이터 필터링 및 쿼리가 백엔드에 닿지 않는 한, 백엔드에 그것의 흔적이 없습니다

## 일반적인 반론들

### "정말로 그렇게 많은 사람들이 이것에 대해 틀렸다고 생각하나요?"

첫째, 위에서 암시했듯이 기존의 지혜는 일관성이 없습니다. 예를 들어 단순성과 테스트 가능성이 표준 원칙인 한, 프론트엔드와 백엔드 통신의 표준 패턴은 종종 표준 관행을 위반합니다.

둘째, 프론트엔드 극대화는 10년이나 20년 전보다 훨씬 더 실행 가능합니다. 기술이 기존의 지혜보다 훨씬 빠르게 진화했을 뿐이라고 생각합니다.

시스템 설계 지침의 대부분은 프론트엔드 극대화를 가능하게 하는 도구가 생기기 훨씬 전에 문화에 구워졌습니다.

### "연결 상태가 나쁜 사람들은 어떻게 하나요? 그냥 데이터로 압도할 건가요?"

다시 말하지만: 프론트엔드 극대화 접근 방식으로 인해 사용자에게 너무 많은 데이터를 보내야 한다면, 프론트엔드 극대화 접근 방식을 사용하지 마세요.

그렇지만 프론트엔드 극대화 접근 방식은 연결 상태가 나쁜 사용자에게 종종 더 친화적입니다. 이러한 연결은 일반적으로 느릴 뿐만 아니라 덜 안정적이며, API 호출을 줄이는 이점이 처음부터 더 적은 데이터를 보내는 이점보다 종종 더 큽니다.

많은 애플리케이션에서 프론트엔드 극대화 접근 방식은 처음에 사용자를 약 2배에서 10배 정도의 데이터로 "압도"합니다. 이것이 사용자에게 사소하지 않은 부담이라면—그리고 이것은 드물고 점점 더 드물어지고 있습니다—다른 수단으로 페이로드를 가볍게 할 수 있는 경우가 많습니다.

## 기억해야 할 것

- 습관적으로만 프론트엔드와 백엔드 간 책임을 나누지 마세요
- 프론트엔드에서 거의 모든 것을 하는 것은 과소평가되고 점점 더 실행 가능해지고 있습니다
- 프론트엔드 극대화 접근 방식을 고려하는 것만으로도 최종 설계가 무엇이든 더 나은 설계로 이어질 수 있습니다
- 모든 코드가 프론트엔드에 있더라도 코드를 적절하게 구조화하여 필요한 모든 모듈성을 얻을 수 있습니다
- **갈의 법칙을 절대 잊지 마세요**
