## Oracle의 로우 락 구조
### 1. **레코드 속성의 의미**
다른 DBMS들이 별도의 Lock Manager나 Lock Table을 사용하는 것과 달리, Oracle은 **각 데이터 블록 내부**에 락 정보를 직접 저장합니다.

구체적으로:
```
데이터 블록 구조:
┌─────────────────────┐
│ Block Header        │
│  - ITL Entries      │ ← 트랜잭션 정보 저장
├─────────────────────┤
│ Row Directory       │
├─────────────────────┤
│ Row Data            │
│  - Row Header       │ ← 각 로우의 락 정보
│  - Column Data      │
└─────────────────────┘
```
### 2. **핵심 구성 요소**
**ITL (Interested Transaction List)**
- 블록 헤더에 위치
- 해당 블록의 데이터를 변경하는 트랜잭션들의 정보 저장
- 각 ITL 엔트리는 트랜잭션 ID, SCN, Undo 정보 등을 포함

**로우 헤더의 Lock Byte**
- 각 로우마다 2-3바이트의 헤더 정보 존재
- 이 중 **lock byte**가 어느 ITL 엔트리가 이 로우를 잠그고 있는지 가리킴
- 예: lock byte = 2 → ITL의 2번째 엔트리가 이 로우를 락하고 있음
### 3. **왜 이런 구조를 사용하나?**
**장점:**
- 별도의 Lock Manager 오버헤드 없음
- 로우 락 정보가 데이터와 함께 저장되어 빠른 접근
- 매우 효율적인 동시성 제어