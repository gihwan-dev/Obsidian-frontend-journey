### 현 상태
![[Pasted image 20260209124002.png]]


### 1. DOM Nodes: 23,315개 (매우 심각)

가장 먼저 눈에 들어오는 수치입니다.

- **상태:** 보통 구글에서는 권장 DOM 노드 수를 1,500개 미만, 많아도 3,000개 정도로 봅니다. 그런데 지금 **23,000개**가 넘습니다.
    
- **원인 추정:** 로그에 `react-grid-layout`, `react-resizable`이 보이는 것으로 보아, 대량의 데이터를 그리드나 테이블로 한 번에 렌더링하고 계신 것 같습니다.
    
- **문제점:** DOM이 이렇게 많으면 브라우저가 레이아웃을 계산(`Layouts / sec`)하고 스타일을 입히는(`Style recalcs / sec`) 데 엄청난 CPU 자원을 씁니다. 그래서 그래프가 톱니바퀴처럼 튀고 있는 것입니다.
    

### 2. JS Event Listeners: 12,679개 (메모리 누수 의심)

- **상태:** 이벤트 리스너가 1만 2천 개가 넘습니다.
    
- **원인 추정:** 그리드의 각 셀(Cell)이나 리사이징 핸들마다 개별적으로 `onClick`, `onMouseDown` 같은 이벤트를 붙이신 것 같습니다.
    
- **문제점:** 메모리(`JS heap size`)를 많이 잡아먹고, 가비지 컬렉터(GC)가 빈번하게 돌아가게 만들어 끊김(Jank) 현상을 유발합니다.
    

### 3. INP (Interaction to Next Paint): 280ms (개선 필요)

- **상태:** 상단 패널에 **280ms (needs improvement)**라고 떴습니다. 사용자가 클릭하거나 드래그했을 때 화면이 반응하기까지 0.28초가 걸린다는 뜻입니다.
    
- **체감:** 사용자는 "버벅거린다", "드래그가 손을 못 따라온다"라고 느끼게 됩니다.
    
- **로그 분석:** `pointer` 이벤트에서 `react-resizable-handle`을 조작할 때 176ms, 280ms씩 걸리고 있습니다. 리사이징할 때마다 거대한 DOM 트리를 다시 계산(Reflow)하느라 브라우저가 비명을 지르고 있는 상황입니다.
    

---

### 💡 해결을 위한 액션 플랜 (Frontend Architecture 관점)

기환님은 React와 아키텍처에 관심이 많으시니, 다음 기술적 도입을 강력 추천합니다.

1. **가상화 (Virtualization) 도입 [필수]:**
    
    - 화면에 보이지 않는 2만 개의 DOM을 다 그릴 필요가 없습니다.
        
    - **`TanStack Virtual`** (구 react-virtual)을 도입해서 스크롤된 영역만 렌더링하세요. DOM 노드 수를 23,000개 → 100~200개 수준으로 줄일 수 있습니다. 이것만 해도 성능이 10배 이상 좋아질 겁니다.
        
2. **이벤트 위임 (Event Delegation):**
    
    - 12,000개의 리스너를 각 요소에 붙이지 말고, 부모 컨테이너 하나에 붙여서 이벤트를 처리하세요. (React 17+부터는 루트에 위임되지만, `react-grid-layout` 같은 라이브러리 사용 시 개별 컴포넌트 내부 구현을 확인해봐야 합니다.)
        
3. **렌더링 최적화:**
    
    - 리사이징 중에는 레이아웃 계산을 최소화하기 위해 **Debounce**나 **Throttle**을 적용하거나, 리사이징 중에는 '고스트(잔상)'만 보여주고 드롭했을 때 실제 데이터를 갱신하는 UX 패턴을 고려해보세요.
        
    - `React.memo`를 사용하여 불필요한 리렌더링을 막아야 합니다.
        

**결론:** 대시보드 UI 자체는 멋지게 만드셨을 것 같지만, 지금 상태로는 데이터가 조금만 더 늘어나도 브라우저가 멈출(Freezing) 위험이 있습니다. **DOM 개수 줄이기**가 최우선 과제입니다!

혹시 `TanStack Table`이나 `Grid` 라이브러리를 어떻게 쓰고 계신지 코드 구조를 살짝 알려주시면 더 구체적인 최적화 팁을 드릴 수 있습니다.