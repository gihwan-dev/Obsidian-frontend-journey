{
	"nodes":[
		{"id":"e1eb872562c4d721","type":"link","url":"https://tanstack.com/table/v8/docs/guide/custom-features","x":-600,"y":-480,"width":1060,"height":1000},
		{"id":"1ab7291fbf20af03","type":"text","text":"## 커스텀 피쳐 기반 리팩토링\n\n**목표**\n@packages/react/src/table/ 컴포넌트를 리팩토링 하려고해. Tanstack Table의 커스텀 기능을 사용해서 모든 기능을 헤드리스 하게 동작할 수 있게 해서 프레임워크와 무관하게 동작하게 하는것을 목표로 함.\n\n- 기능 하나씩 마이그레이션 진행\n- 우선 적으로 가이드라인 문서를 하나 만들어 놓고 진행하기\n- 테스트 깨져서는 안됨\n- 기능 단위 분리 우선 정리\n\t- cell bordering 기능\n\t- row 이동 기능\n\t- \bsticky tree 기능\n\t- etc...\n","x":500,"y":-480,"width":760,"height":1000},
		{"id":"4305b2d51eabb4ed","x":-1500,"y":-510,"width":840,"height":1030,"type":"text","text":"# Table 커스텀 기능 리스트업  \n  \nTanStack Table Custom Feature 마이그레이션 관점에서 Table 컴포넌트의 모든 기능을 정리한 문서.  \n  \n- **1부**: Headless 커스텀 기능 — 프레임워크 무관 상태/로직 (TanStack Custom Feature 후보)  \n- **2부**: React 렌더링 어댑터 — DOM/React 종속 렌더링/UI 기능  \n- **3부**: 공통 패턴 — Controlled/Uncontrolled 통합  \n  \n---  \n  \n## 1부: Headless 커스텀 기능  \n  \n프레임워크에 무관하게 동작하는 순수 상태/로직 기능 — TanStack Table Custom Feature로 구현할 대상.  \n  \n| #   | 기능명               | 설명                                   |\n| --- | ----------------- | ------------------------------------ |\n| 1   | CellMerging       | rowSpan/colSpan 셀 병합 계산, 숨김 셀 추적     |\n| 2   | TreeSelection     | 트리 리프 전용 선택, 부모 토글, indeterminate 상태 |\n| 3   | PinAwareSorting   | 고정 행 위치 보존하는 커스텀 정렬 모델               |\n| 4   | FilterAwareExpand | 검색 시 모든 트리 행 자동 확장                   |\n| 5   | GlobalSearch      | 다중 검색어, 숫자 인식, 재귀 하위 행 검색            |\n| 6   | AutoColumnSizing  | 3-pass 자동 컬럼 너비 분배 알고리즘              |\n| 7   | RowOrdering       | 행 순서 변경 (버튼 swap + DnD move 통합)      |\n| 8   | ColumnDnd         | 컬럼 순서 드래그 앤 드롭                       |\n| 9   | RowClick          | 행 클릭 선택/토글, clickedRowId 상태          |\n| 10  | RowDrag           | 커스텀 행 드래그 (외부 콜백 전용)                 |\n| 11  | InfiniteScroll    | threshold 기반 무한 스크롤                  |\n| 12  | CellFormatting    | 자동 정렬, 숫자 포맷, ratio 데이터              |\n| 13  | InlineUtilities   | 인라인 expander/checkbox 결정 로직          |\n| 14  | PinningStyle      | 고정 행/열 오프셋 계산                        |\n  \n---  \n  \n### 1. CellMerging  \n  \nrowSpan/colSpan 셀 병합을 계산하고, 병합으로 숨겨진 셀을 추적한다.  \n  \n**상태 (State)**  \n  \n| 상태 | 타입 | 설명 |  \n|------|------|------|  \n| `hiddenCellsSet` | `Set<string>` | 병합으로 숨겨진 셀 (`\"rowId:columnId\"` 형식) |  \n| `rowSpanMap` | `Map` | 셀별 계산된 rowSpan 값 |  \n  \n**API**  \n  \n| 레벨 | API | 설명 |  \n|------|-----|------|  \n| table | `getMergeInfo(rowId, columnId)` | `{rowSpan, colSpan, isHidden, isLastRowSpan}` 반환 |  \n| table | `isCellHidden(rowId, columnId)` | 셀 숨김 여부 판별 |  \n| cell | `calculateRowSpan()` | 표시 가능 행을 고려한 실제 rowSpan 계산 |  \n| cell | `calculateColSpanForCell()` | 셀의 colSpan 값 조회 |  \n  \n**관련 소스 파일**  \n  \n- `packages/react/src/table/hooks/useTableMerge.ts`  \n- `packages/react/src/table/utils/tableMergeUtils.ts`  \n- `packages/react/src/table/providers/TableHiddenCellProvider.tsx`  \n- `packages/react/src/table/components/TableCell/useCellLayout.ts`  \n  \n---  \n  \n### 2. TreeSelection  \n  \n트리 구조에서 리프 노드만 선택 상태에 포함하고, 부모 토글 시 하위 리프를 일괄 선택/해제한다. 부모의 indeterminate 상태를 파생한다.  \n  \n**상태 (State)**  \n  \n| 상태 | 타입 | 설명 |  \n|------|------|------|  \n| `rowSelection` | `RowSelectionState` | TanStack 기본 타입, 리프 행 ID → boolean |  \n  \n> 부모 노드는 selection state에 포함되지 않으며, indeterminate는 렌더링 시 리프 선택으로부터 파생된다.  \n  \n**API**  \n  \n| 레벨 | API | 설명 |  \n|------|-----|------|  \n| row | `collectLeafRows(row)` | 부모 행에서 모든 리프 Row 객체를 재귀 수집 |  \n| table | `collectAllLeafRowsFromFlatList(flatRows)` | 평탄화된 배열에서 리프 행 수집 |  \n| table | `calculateNextTreeSelectionState(toggledRow, currentSelection)` | 부모 토글 시 새 selection 상태 계산 |  \n  \n**관련 소스 파일**  \n  \n- `packages/react/src/table/core/treeSelection.ts`  \n- `packages/react/src/table/core/__test__/treeSelection.test.ts`  \n- `packages/react/src/table/core/__test__/collectLeafRows.test.ts`  \n  \n---  \n  \n### 3. PinAwareSorting  \n  \n고정(pinned) 행의 위치를 보존하면서 비고정 행만 정렬하는 커스텀 정렬 모델.  \n  \n**상태 (State)**  \n  \n| 상태 | 타입 | 설명 |  \n|------|------|------|  \n| `sorting` | `SortingState` | TanStack 기본 정렬 상태 |  \n  \n> 행을 `pinnedTopRows`, `unpinnedRows`, `pinnedBottomRows`로 분리한 뒤 비고정 행만 정렬하고 재조합한다.  \n  \n**API**  \n  \n| 레벨 | API | 설명 |  \n|------|-----|------|  \n| table | `getSortedRowModel()` | pin 상태를 보존하는 커스텀 정렬 row model |  \n  \n> 내부 로직: pin 상태로 분리 → 비고정 행 정렬 → 재조합. 중첩 subRows도 재귀적으로 동일 로직 적용.  \n  \n**관련 소스 파일**  \n  \n- `packages/react/src/table/utils/getSortedRowModel.ts`  \n  \n---  \n  \n### 4. FilterAwareExpand  \n  \n글로벌 검색이 활성화되면 모든 트리 행을 자동 확장하여 검색 결과가 보이도록 한다.  \n  \n**상태 (State)**  \n  \n| 상태 | 타입 | 설명 |  \n|------|------|------|  \n| `expanded` | `ExpandedState` | TanStack 기본 확장 상태 |  \n| `globalFilter` | `string` | 검색 키워드 (트리거 조건) |  \n  \n**API**  \n  \n| 레벨 | API | 설명 |  \n|------|-----|------|  \n| table | `getExpandedRowModel()` | 커스텀 확장 row model |  \n| table | `expandRows(rowModel, forceExpanded)` | `forceExpanded=true`(globalFilter 활성) 시 전체 행 확장 |  \n  \n**관련 소스 파일**  \n  \n- `packages/react/src/table/utils/getExpandedRowModel.ts`  \n  \n---  \n  \n### 5. GlobalSearch  \n  \n공백으로 분리된 다중 검색어를 지원하고, 숫자 패턴을 인식하며, 트리 하위 행을 재귀 검색한다.  \n  \n**상태 (State)**  \n  \n| 상태 | 타입 | 설명 |  \n|------|------|------|  \n| `globalFilter` | `string` | 검색 키워드 |  \n  \n**API**  \n  \n| 레벨 | API | 설명 |  \n|------|-----|------|  \n| table | `globalFilterFn(row, columnId, filterValue)` | TanStack filterFn 시그니처 준수 |  \n| util | `splitSearchTerms(searchWord)` | 공백 분리 + 소문자 변환 |  \n| util | `matchesSearchTerm(value, searchTerm)` | 문자열/숫자 매칭 (콤마 정규화 포함) |  \n| util | `isNumericSearchPattern(term)` | 숫자 패턴 감지 |  \n| util | `normalizeNumber(value)` | 숫자에서 콤마 제거 |  \n| util | `searchInSubRows(row, terms)` | 재귀 하위 행 검색 |  \n  \n> 고정(pinned) 행은 필터링에서 제외된다.  \n  \n**관련 소스 파일**  \n  \n- `packages/react/src/table/utils/globalFilterFn.ts`  \n- `packages/react/src/table/utils/searchHelpers.ts`  \n  \n---  \n  \n### 6. AutoColumnSizing  \n  \n3-pass 알고리즘으로 컬럼 너비를 자동 분배한다. 컨테이너 크기 변경 시 ResizeObserver로 재계산한다.  \n  \n**상태 (State)**  \n  \n| 상태 | 타입 | 설명 |  \n|------|------|------|  \n| `columnSizing` | `Record<string, number>` | 컬럼별 너비 |  \n  \n> 컬럼을 explicit(명시적 크기), external(고정 크기), auto(유연) 세 그룹으로 분류한다.  \n  \n**API**  \n  \n| 레벨 | API | 설명 |  \n|------|-----|------|  \n| table | `calculateColumnSizing()` | 3-pass: (1) explicit 크기 할당 → (2) external 크기 할당 → (3) 남은 공간을 auto 컬럼에 분배 |  \n| util | `filterValidColumns()` | 유효 컬럼 필터링 |  \n| util | `filterVisibleColumns()` | 표시 가능 컬럼 필터링 |  \n| util | `partitionColumns()` | fixed vs auto 컬럼 분리 |  \n| util | `hasAutoColumns()` | resize 시 재계산 필요 여부 판별 |  \n  \n**관련 소스 파일**  \n  \n- `packages/react/src/table/hooks/useColumnSizing/useColumnSizing.ts`  \n- `packages/react/src/table/hooks/useColumnSizing/utils.ts`  \n  \n---  \n  \n### 7. RowOrdering  \n  \n버튼 기반 swap과 DnD 기반 move를 하나의 기능으로 통합한다. 동일한 `rowOrder` 상태와 `rowReorderUtils` 유틸리티를 공유한다.  \n  \n**상태 (State)**  \n  \n| 상태 | 타입 | 설명 |  \n|------|------|------|  \n| `rowOrder` | `{ root: string[], [parentId]: string[] }` | 계층적 행 순서 (트리 지원) |  \n| `initialRowOrder` | 동일 타입 | 비제어 모드 초기값 |  \n  \n> 필터링 활성 시 순서 변경이 차단된다. 정렬 상태는 순서 변경 후 자동 초기화된다.  \n  \n**API**  \n  \n| 레벨 | API | 설명 |  \n|------|-----|------|  \n| row | `canMoveUp` / `canMoveDown` | 이동 가능 여부 |  \n| row | `handleMoveUp()` / `handleMoveDown()` | 버튼 swap 실행 |  \n| table | `onRowOrderChange(newOrder)` | 제어 모드 콜백 |  \n| util | `swapArrayElements(arr, i, j)` | 인접 요소 교환 |  \n| util | `arrayMove(arr, from, to)` | 요소 이동 |  \n| util | `updateParentSubRows(data, parentId, newOrder)` | 트리 구조 subRows 갱신 |  \n| util | `reconstructDataWithPinning(data, order, pinning)` | pin 그룹을 유지하며 데이터 재구성 |  \n| util | `getSiblingRows(row, table)` | 이동 가능한 형제 행 조회 |  \n| util | `resetSortingIfNeeded(table)` | 순서 변경 후 정렬 초기화 |  \n  \n**관련 소스 파일**  \n  \n- `packages/react/src/table/hooks/useTableRowOrdering.ts`  \n- `packages/react/src/table/hooks/useTableRowDndMonitor.ts`  \n- `packages/react/src/table/utils/rowReorderUtils.ts`  \n- `packages/react/src/table/utils/applyInitialRowOrder.ts`  \n  \n---  \n  \n### 8. ColumnDnd  \n  \n컬럼 헤더를 드래그 앤 드롭으로 순서를 변경한다. 그룹 헤더의 리프 컬럼 ID를 추출하여 정확한 위치를 계산한다.  \n  \n**상태 (State)**  \n  \n| 상태 | 타입 | 설명 |  \n|------|------|------|  \n| `columnOrder` | `string[]` | 컬럼 ID 순서 |  \n| `initialColumnOrder` | `string[]` | 비제어 모드 초기값 |  \n  \n**API**  \n  \n| 레벨 | API | 설명 |  \n|------|-----|------|  \n| table | `onColumnOrderChange(newOrder)` | 제어 모드 콜백 |  \n| util | `validateDndAction(source, target)` | tableId, parentId 일치 검증 |  \n| util | `getRespectiveLeafIds(header)` | 그룹 헤더에서 리프 컬럼 ID 추출 |  \n| util | `calculateNewColumnOrder(current, source, target, edge)` | 드롭 위치(left/right)에 따른 새 순서 계산 |  \n  \n> `@atlaskit/pragmatic-drag-and-drop` 라이브러리 기반. `extractClosestEdge()`로 드롭 위치 판별.  \n  \n**관련 소스 파일**  \n  \n- `packages/react/src/table/hooks/useTableColumnDndMonitor.ts`  \n- `packages/react/src/table/utils/columnDndUtils.ts`  \n- `packages/react/src/table/components/TableHeaderCell/DraggableTableHeaderCell.tsx`  \n  \n---  \n  \n### 9. RowClick  \n  \n행 클릭으로 선택/토글하고, 현재 클릭된 행 ID를 상태로 관리한다.  \n  \n**상태 (State)**  \n  \n| 상태 | 타입 | 설명 |  \n|------|------|------|  \n| `clickedRowId` | `string \\| null` | 현재 클릭된 행 ID |  \n  \n> 같은 행 클릭 시 선택 해제, 다른 행 클릭 시 선택 전환. `disableUnClick` 옵션으로 해제를 비활성화할 수 있다.  \n  \n**API**  \n  \n| 레벨 | API | 설명 |  \n|------|-----|------|  \n| table | `handleRowClick(rowId, row?)` | 클릭 상태 관리 및 `onRowClick` 콜백 호출 |  \n| table | `clickedRowId` | 현재 상태 조회 |  \n| callback | `onRowClick(rowData, index)` | 선택 시 행 데이터 전달, 해제 시 null |  \n  \n**관련 소스 파일**  \n  \n- `packages/react/src/table/hooks/useTableClick.ts`  \n- `packages/react/src/table/providers/TableRowClickProvider.tsx`  \n  \n---  \n  \n### 10. RowDrag  \n  \n외부 드래그 콜백 전용의 행 드래그 기능. RowOrdering DnD와 상호 배타적이다.  \n  \n**상태 (State)**  \n  \n| 상태 | 타입 | 설명 |  \n|------|------|------|  \n| `dragState` | `{ data: T \\| null, rowId: string \\| null }` | 현재 드래그 중인 행 데이터 |  \n| `dragPreviewPosition` | `{ x: number, y: number }` | 프리뷰 좌표 |  \n  \n> `DRAG_THRESHOLD=8px`를 초과해야 드래그로 인식한다.  \n  \n**API**  \n  \n| 레벨 | API | 설명 |  \n|------|-----|------|  \n| table | `startDrag(event, rowId, rowData)` | 포인터 기반 드래그 시작 |  \n| table | `draggedRowId` | 현재 드래그 중인 행 ID |  \n| table | `renderDragPreview()` | 포털 기반 프리뷰 컴포넌트 |  \n| callback | `onRowDragStart(row)` | 드래그 시작 콜백 |  \n| callback | `onRowDrag({ row, clientX, clientY })` | 드래그 중 콜백 |  \n| callback | `onRowDragEnd(row, event)` | 드래그 종료 콜백 |  \n  \n> RowOrdering의 `draggable`과 동시 사용 불가 — 충돌 검사가 내장되어 있다.  \n  \n**관련 소스 파일**  \n  \n- `packages/react/src/table/hooks/useTableDrag.tsx`  \n- `packages/react/src/table/providers/TableDragProvider.tsx`  \n- `packages/react/src/table/components/TableDragPreview.tsx`  \n  \n---  \n  \n### 11. InfiniteScroll  \n  \n스크롤 위치가 threshold에 도달하면 콜백을 호출하는 무한 스크롤.  \n  \n**상태 (State)**  \n  \n| 상태 | 타입 | 설명 |  \n|------|------|------|  \n| `threshold` | `number` | 하단으로부터의 트리거 거리 (기본값 100px) |  \n  \n**API**  \n  \n| 레벨 | API | 설명 |  \n|------|-----|------|  \n| table | `handleInfiniteScroll(event)` | 스크롤 이벤트 핸들러 |  \n| callback | `onBottomReached()` | threshold 도달 시 호출 |  \n  \n> `scrollHeight - scrollTop - clientHeight ≤ threshold` 조건으로 판별. 스크롤 불가능한 컨테이너(`scrollHeight ≤ clientHeight`)는 건너뛴다.  \n  \n**관련 소스 파일**  \n  \n- `packages/react/src/table/hooks/useInfiniteScroll.ts`  \n  \n---  \n  \n### 12. CellFormatting  \n  \n셀 값의 타입에 따라 자동 정렬(alignment)을 결정하고, 숫자 포맷과 ratio 데이터를 처리한다.  \n  \n**상태 (State)**  \n  \n| 상태 | 타입 | 설명 |  \n|------|------|------|  \n| column `align` | `'left' \\| 'right' \\| 'center'` | 명시적 정렬 |  \n| column `type` | `'string' \\| 'number' \\| 'stringNumber'` | 셀 데이터 타입 |  \n| column `decimal` | `number` | 숫자 소수점 자릿수 |  \n| column `format` | `'ratio'` | ratio 렌더링 플래그 |  \n  \n**API**  \n  \n| 레벨 | API | 설명 |  \n|------|-----|------|  \n| cell | `getCellAlign(value, columnAlign)` | 값 타입 기반 자동 정렬 (숫자→right, 문자→left) |  \n| cell | `toLocaleString()` 적용 | 숫자 title 생성 |  \n| cell | ratio 렌더링 | `format: 'ratio'`일 때 바 시각화 |  \n  \n**관련 소스 파일**  \n  \n- `packages/react/src/table/components/TableCell/useCellAppearance.ts`  \n- `packages/react/src/table/components/TableCell/RatioCell.tsx`  \n- `packages/react/src/table/utils/tableHelpers.tsx`  \n  \n---  \n  \n### 13. InlineUtilities  \n  \n셀 내에 인라인으로 표시할 expander/checkbox의 표시 여부와 깊이(depth) 기반 로직을 결정한다.  \n  \n**상태 (State)**  \n  \n| 상태 | 타입 | 설명 |  \n|------|------|------|  \n| column `expander.display` | `boolean` | expander 명시적 표시 여부 |  \n| column `expander.depth` | `number` | 표시할 트리 깊이 (-1: 모든 깊이) |  \n| column `checkbox.display` | `boolean` | checkbox 명시적 표시 여부 |  \n| column `checkbox.depth` | `number` | 표시할 트리 깊이 (-1: 모든 깊이) |  \n  \n**API**  \n  \n| 레벨 | API | 설명 |  \n|------|-----|------|  \n| cell | `calculateInlineStatus(row, column)` | `{showExpander, showCheckbox, paddingLeftRem}` 반환 |  \n| cell | `shouldDisplayExpander()` | 깊이 매칭 + 첫 번째 컬럼 기본 규칙 |  \n| cell | `shouldDisplayCheckbox()` | checkbox 동일 로직 |  \n| header | `canRenderInlineHeaderCheckbox()` | 헤더 전용 체크박스 표시 판별 |  \n| column | `isInlineSelectHost()` | 선택 호스트 컬럼 식별 |  \n  \n**관련 소스 파일**  \n  \n- `packages/react/src/table/utils/tableInlineUtils.ts`  \n- `packages/react/src/table/components/TableCell/CellInlineUtilities.tsx`  \n- `packages/react/src/table/components/TableCell/CellUtilityControl.tsx`  \n- `packages/react/src/table/hooks/useTableColumns.tsx`  \n  \n---  \n  \n### 14. PinningStyle  \n  \n고정(pinned) 행과 열의 오프셋 스타일을 계산한다.  \n  \n**상태 (State)**  \n  \n| 상태 | 타입 | 설명 |  \n|------|------|------|  \n| `rowPinning` | `RowPinningState` | `{ top: string[], bottom: string[] }` |  \n| `columnPinning` | `ColumnPinningState` | `{ left: string[], right: string[] }` |  \n  \n**API**  \n  \n| 레벨 | API | 설명 |  \n|------|-----|------|  \n| row | `getPinnedRowTopStyle(table, options, rowId)` | `{ zIndex: 10, top: index * rowHeight }` |  \n| column | `getPinnedColumnOffsetStyle(table, pinning, columnId, options)` | left pinned: 이전 컬럼 너비 합, right pinned: 이후 컬럼 너비 합 |  \n  \n> `column.getSize()`를 사용하여 오프셋을 계산한다.  \n  \n**관련 소스 파일**  \n  \n- `packages/react/src/table/utils/tablePinningUtils.ts`  \n- `packages/react/src/table/components/TableRow.tsx`  \n- `packages/react/src/table/components/TableHeaderCell/BaseTableHeaderCell.tsx`  \n  \n---  \n  \n## 2부: React 렌더링 어댑터  \n  \nDOM/React에 의존하는 렌더링/UI 기능 — 프레임워크 종속 레이어.  \n  \n| # | 기능명 | 설명 |  \n|---|--------|------|  \n| 1 | 9-Grid 레이아웃 | 행/열 고정을 위한 9분할 그리드 구조 |  \n| 2 | 스크롤 동기화 | 9-Grid 섹션 간 스크롤 위치 동기화 |  \n| 3 | Sticky Tree | 트리 부모 행 sticky 렌더링 |  \n| 4 | 셀 경계선 | 남은 공간 감지 기반 스마트 보더 |  \n| 5 | 검색 하이라이팅 | 검색어 하이라이트 렌더링 |  \n| 6 | 남은 공간 감지 | 테이블 컨테이너 여백 감지 |  \n| 7 | 리사이즈 가이드 | 컬럼 리사이즈 시각 가이드라인 |  \n| 8 | 드래그 프리뷰 | DnD 프리뷰 요소 포털 렌더링 |  \n| 9 | 툴바 | 검색, 제목, 옵션 메뉴 포함 툴바 |  \n| 10 | 푸터 | 페이지네이션, 행 정보, per-page 선택기 |  \n| 11 | 컬럼 가시성 모달 | 컬럼 표시/숨김 토글 모달 |  \n| 12 | 커스텀 스타일 | Context 기반 커스텀 스타일 적용 |  \n| 13 | Empty 상태 | 빈 테이블 상태 표시 |  \n| 14 | 셀·헤더 렌더링 | 셀/헤더 컴포넌트 트리 |  \n| 15 | 레이아웃 유틸리티 | 위치/크기 계산 헬퍼 |  \n  \n---  \n  \n### 1. 9-Grid 레이아웃  \n  \n행 고정(top/bottom)과 열 고정(left/right)을 동시에 지원하기 위해 테이블을 9개 섹션으로 분할하는 레이아웃.  \n  \n```  \n┌──────────┬────────────────┬──────────┐  \n│ top-left │   top-center   │top-right │  ← pinned top rows  \n├──────────┼────────────────┼──────────┤  \n│   left   │    center      │  right   │  ← scrollable body  \n├──────────┼────────────────┼──────────┤  \n│ bot-left │  bot-center    │bot-right │  ← pinned bottom rows  \n└──────────┴────────────────┴──────────┘  \n  pinned-L      scroll        pinned-R```  \n  \n**관련 소스 파일**  \n  \n- `packages/react/src/table/Table.tsx` — 9-Grid 아키텍처 정의  \n- `packages/react/src/table/utils/layoutUtils.ts` — 위치/크기 계산  \n- `packages/react/src/table/components/TableHeaderArea.tsx` — left/center/right 헤더 섹션  \n- `packages/react/src/table/components/TableBodyArea.tsx` — top/center/bottom 바디 섹션  \n- `packages/react/src/table/components/TableCenterRowSection.tsx` — 중앙 스크롤 영역 + left/right 고정 컬럼  \n- `packages/react/src/table/components/TableTopRowSection.tsx`  \n- `packages/react/src/table/components/TableBottomRowSection.tsx`  \n  \n---  \n  \n### 2. 스크롤 동기화  \n  \n9-Grid의 각 섹션이 동일한 스크롤 위치를 유지하도록 동기화한다.  \n  \n**관련 소스 파일**  \n  \n- `packages/react/src/table/hooks/useTableScrollSync/useTableScrollSync.ts`  \n- `packages/react/src/table/hooks/useTableScrollSync/useTableScrollSync.browser.test.tsx`  \n- `packages/react/src/table/providers/TableScrollSyncProvider.tsx`  \n  \n---  \n  \n### 3. Sticky Tree  \n  \n트리 구조의 부모 행을 sticky 위치에 고정하여 스크롤 시 컨텍스트를 유지한다.  \n  \n> 파싱 로직(트리 구조 해석)은 headless로 분리 가능하나, 주요 구현이 React 렌더링에 집중되어 있어 어댑터로 분류.  \n  \n**관련 소스 파일**  \n  \n- `packages/react/src/table/components/StickyTree/StickyTreeRenderer.tsx`  \n- `packages/react/src/table/components/StickyTree/components/StickyTreeNode.tsx`  \n- `packages/react/src/table/components/StickyTree/stickyTreeUtils.ts`  \n- `packages/react/src/table/components/StickyTree/utils/stickyTreeChildren.ts`  \n- `packages/react/src/table/components/StickyTree/utils/stickyTreeNodeStyles.ts`  \n- `packages/react/src/table/components/StickyTree/hooks/useStickyTreeCells.ts`  \n- `packages/react/src/table/components/StickyTree/hooks/useStickyTreeNode.ts`  \n- `packages/react/src/table/components/TableBodySegment.tsx`  \n  \n---  \n  \n### 4. 셀 경계선  \n  \n남은 공간 감지를 활용하여 셀 보더를 스마트하게 표시한다.  \n  \n**관련 소스 파일**  \n  \n- `packages/react/src/table/components/TableCell/useCellAppearance.ts`  \n- `packages/react/src/table/components/TableCell/TableCell.tsx`  \n- `packages/react/src/table/providers/TableRemainingSpaceProvider.tsx`  \n  \n---  \n  \n### 5. 검색 하이라이팅  \n  \n다중 검색어를 셀 텍스트에서 하이라이트 처리한다. 숫자 검색 패턴도 지원한다.  \n  \n**관련 소스 파일**  \n  \n- `packages/react/src/table/components/HighlightText.tsx`  \n- `packages/react/src/table/utils/searchHelpers.ts`  \n- `packages/react/src/table/components/TableCell/CellContent.tsx`  \n- `packages/react/src/table/providers/TableSearchProvider.tsx`  \n  \n---  \n  \n### 6. 남은 공간 감지  \n  \n테이블 컨테이너의 X/Y축 여백을 감지하여 보더, 스크롤 등의 동작을 조정한다.  \n  \n**관련 소스 파일**  \n  \n- `packages/react/src/table/providers/TableRemainingSpaceProvider.tsx`  \n- `packages/react/src/table/components/TableCell/useCellAppearance.ts`  \n  \n---  \n  \n### 7. 리사이즈 가이드  \n  \n컬럼 리사이즈 드래그 중 수직 가이드라인을 포털로 렌더링한다.  \n  \n**관련 소스 파일**  \n  \n- `packages/react/src/table/components/TableHeaderCell/PortalResizeGuide.tsx`  \n- `packages/react/src/table/components/TableHeaderCell/ResizeHandler.tsx`  \n- `packages/react/src/table/components/TableHeaderCell/PortalDropIndicator.tsx`  \n  \n---  \n  \n### 8. 드래그 프리뷰  \n  \n행/컬럼 드래그 시 포털 기반 프리뷰 요소를 렌더링한다.  \n  \n**관련 소스 파일**  \n  \n- `packages/react/src/table/components/TableDragPreview.tsx`  \n- `packages/react/src/table/hooks/useTableDrag.tsx`  \n- `packages/react/src/table/providers/TableDragProvider.tsx`  \n  \n---  \n  \n### 9. 툴바  \n  \n검색, 제목, 옵션 메뉴, 행 이동 버튼을 포함하는 테이블 상단 툴바.  \n  \n**관련 소스 파일**  \n  \n- `packages/react/src/table/components/TableToolbar.tsx`  \n- `packages/react/src/table/components/TableOptionsMenu.tsx`  \n- `packages/react/src/table/components/TableMoveToButton.tsx`  \n- `packages/react/src/table/components/TableRenderer.tsx`  \n  \n---  \n  \n### 10. 푸터  \n  \n페이지네이션 컨트롤, 행 정보, per-page 선택기를 포함하는 테이블 하단 푸터.  \n  \n**관련 소스 파일**  \n  \n- `packages/react/src/table/components/TableFooter.tsx`  \n- `packages/react/src/table/components/TablePagination.tsx`  \n- `packages/react/src/table/components/TablePerPage.tsx`  \n- `packages/react/src/table/components/TableRenderer.tsx`  \n  \n---  \n  \n### 11. 컬럼 가시성 모달  \n  \n컬럼 표시/숨김 토글과 순서 변경을 지원하는 모달.  \n  \n**관련 소스 파일**  \n  \n- `packages/react/src/table/components/TableColumnVisibilityModal.tsx`  \n  \n---  \n  \n### 12. 커스텀 스타일  \n  \nContext 기반으로 테이블의 각 섹션(wrapper, container, header, cell, footer, toolbar)에 커스텀 스타일을 적용한다.  \n  \n**관련 소스 파일**  \n  \n- `packages/react/src/table/providers/TableCustomStylesProvider.tsx`  \n- `packages/react/src/table/types/table.types.ts` — `TableCustomStyle` 타입 정의  \n- `packages/react/src/table/components/TableRenderer.tsx`  \n- `packages/react/src/table/components/TableHeaderArea.tsx`  \n- `packages/react/src/table/components/TableCell/useCellAppearance.ts`  \n- `packages/react/src/table/components/TableFooter.tsx`  \n- `packages/react/src/table/components/TableToolbar.tsx`  \n  \n---  \n  \n### 13. Empty 상태  \n  \n데이터가 없을 때 빈 상태 메시지를 표시한다. 커스텀 콘텐츠를 지원한다.  \n  \n**관련 소스 파일**  \n  \n- `packages/react/src/table/components/TableEmptyRow.tsx`  \n- `packages/react/src/table/components/TableBodySegment.tsx`  \n  \n---  \n  \n### 14. 셀·헤더 렌더링  \n  \n셀과 헤더의 컴포넌트 트리. 숫자 포맷, 하이라이팅, 체크박스, 라디오, expander 등 다양한 셀 유형을 포함한다.  \n  \n**관련 소스 파일**  \n  \n- `packages/react/src/table/components/TableCell/TableCell.tsx`  \n- `packages/react/src/table/components/TableCell/CellContent.tsx`  \n- `packages/react/src/table/components/TableCell/CellInlineUtilities.tsx`  \n- `packages/react/src/table/components/TableCell/CellUtilityControl.tsx`  \n- `packages/react/src/table/components/TableCell/RatioCell.tsx`  \n- `packages/react/src/table/components/TableHeader.tsx`  \n- `packages/react/src/table/components/TableHeaderCell/HeaderCellContent.tsx`  \n- `packages/react/src/table/components/TableHeaderCell/TableHeaderCell.tsx`  \n- `packages/react/src/table/components/TableHeaderCell/BaseTableHeaderCell.tsx`  \n- `packages/react/src/table/components/TableHeaderCell/DraggableTableHeaderCell.tsx`  \n- `packages/react/src/table/components/TableHeaderCell/StaticTableHeaderCell.tsx`  \n- `packages/react/src/table/components/TableBody.tsx`  \n- `packages/react/src/table/components/TableRow.tsx`  \n- `packages/react/src/table/components/cells/CheckboxCell.tsx`  \n- `packages/react/src/table/components/cells/ExpanderCell.tsx`  \n- `packages/react/src/table/components/cells/RadioCell.tsx`  \n  \n---  \n  \n### 15. 레이아웃 유틸리티  \n  \n위치, 크기, 행 분할 등의 레이아웃 계산 헬퍼.  \n  \n**관련 소스 파일**  \n  \n- `packages/react/src/table/utils/layoutUtils.ts` — `getHeaderCellPosition`, `getRowTopPosition`, `getCellPosition`, `splitRows`  \n- `packages/react/src/table/utils/tablePinningUtils.ts`  \n- `packages/react/src/table/utils/tableMergeUtils.ts`  \n- `packages/react/src/table/components/TableCell/useCellLayout.ts`  \n- `packages/react/src/table/hooks/useColumnSizing/utils.ts`  \n  \n---  \n  \n## 3부: 공통 패턴  \n  \n### Controlled / Uncontrolled 통합  \n  \n모든 상태 관리 기능은 TanStack Table의 Controlled/Uncontrolled 패턴을 따른다. 독립 Feature가 아닌 각 Feature의 `getDefaultOptions`에 내장되는 공통 패턴이다.  \n  \n```typescript  \ninterface FeatureOptions<T> {  \n  // Controlled 모드  \n  [state]?: StateType;  on[State]Change?: OnChangeFn<StateType>;  \n  // Uncontrolled 모드  \n  initial[State]?: StateType;}  \n```  \n  \n**기능별 적용 현황**  \n  \n| 기능 | Controlled | Uncontrolled |  \n|------|-----------|-------------|  \n| RowOrdering | `rowOrder` + `onRowOrderChange` | `initialRowOrder` |  \n| ColumnDnd | `columnOrder` + `onColumnOrderChange` | `initialColumnOrder` |  \n| Selection | `rowSelection` + `onRowSelectionChange` | `initialRowSelection` |  \n| Expand | `expanded` + `onExpandedChange` | `initialExpanded` |  \n| Sorting | `sorting` + `onSortingChange` | `initialSorting` |  \n| Pagination | `pagination` + `onPaginationChange` | `initialPagination` |  \n| GlobalSearch | `keyword` + `onKeywordChange` | `defaultKeyword` |  \n  \n**구현 메커니즘**  \n  \n- `Table.tsx`에서 `useDeepMemo`로 옵션을 병합하며 controlled 속성이 기본값을 오버라이드  \n- 각 Feature는 `table.getState()`로 상태를 읽고, `table.setState()`로 상태를 설정  \n- 외부 핸들러가 없으면 TanStack Table이 내부 상태를 관리  \n  \n---  \n  \n## Provider 인프라  \n  \nReact 어댑터 전반에서 사용하는 Context Provider 목록:  \n  \n| Provider | 역할 |  \n|----------|------|  \n| `TableProvider` | 핵심 table 인스턴스 |  \n| `TableOptionsProvider` | 테이블 옵션 |  \n| `TableRefsProvider` | DOM ref (스크롤 동기화용) |  \n| `TableContainerSizeProvider` | 컨테이너 크기 |  \n| `TableRowVirtualizerProvider` | 행 가상화 상태 |  \n| `TableRowClickProvider` | 행 클릭 상태 |  \n| `TableHiddenCellProvider` | 셀 병합 숨김 상태 |  \n| `TableScrollSyncProvider` | 스크롤 동기화 |  \n| `TableSearchProvider` | 검색 상태 |  \n| `TableDragProvider` | 드래그 상태 |  \n| `TableCustomStylesProvider` | 커스텀 스타일 |  \n| `TableRemainingSpaceProvider` | 남은 공간 감지 |"}
	],
	"edges":[]
}