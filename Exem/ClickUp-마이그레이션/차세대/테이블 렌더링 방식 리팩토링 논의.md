# 테이블 렌더링 방식 리팩토링 논의

## 메타데이터
- **상태**: ✅ resolved
- **담당자**: -
- **작성자**: 최기환
- **생성일**: 2025-06-19
- **완료일**: 2025-09-16
- **Product**: Maxgauge VI
- **ClickUp**: [링크](https://app.clickup.com/t/86etvt64e)

---

## 요약

테이블 가상화 적용 및 렌더링 방식(table 태그 vs div)에 대한 논의. 3분기에 가상화 적용을 진행하기로 결정.

---

## 배경

가상화 적용을 2가지 방식으로 고려했습니다:
1. 기본 내장 기능으로 구현
2. 옵션화

1번의 방식으로 진행했는데, 기존의 동작에 영향이 가는 것을 발견했고 이렇게 되었을 때 2번으로 가도 결국 마찬가지라는 생각이 들었습니다.

**결론**: 3분기에 가상화 적용을 하기로 했고, 이전까지 다양한 레퍼런스를 찾고 테이블 렌더링 방식이나 가상화 적용 방식에 대한 해결 방안을 마련하고자 합니다.

> ⚠️ 3분기 이전까지 테이블 렌더링에 대한 사소한 버그 픽스 작업은 하지 않는게 좋을 것 같습니다!

---

## 필요 기능

1. 필터링
2. 리사이징
3. 드래그 앤 드롭을 통한 칼럼 정렬
4. 무한 스크롤
5. 가상화
6. 칼럼 그룹화
7. 칼럼 고정
8. 열 고정
9. 트리 구조 렌더링
10. 행 확장
11. 검색
12. 열 선택
13. 디자인 요구사항에 대해 유연하게 반응할 수 있어야 함
14. cell 드래그 앤 드롭으로 복사하는 기능 (엑셀처럼)
15. 테이블 중첩 구조 (특정 열을 통해 확장되는 형태)

---

## 참고 자료

- 내부적으로 div를 이용해 렌더링하는 라이브러리들의 내부 렌더링 구조 참고
- 상업용 테이블 라이브러리 (table 태그 사용) 참고
- MDN 테이블 문서
- AG Grid (div 태그 사용)

---

## 고민 사항

### table vs div
table 태그가 아니라 div를 사용하는 방식은 어떤가 고민 중입니다. table/tr/td의 렌더링 구조가 유연하게 다양한 방식을 적용하기에 제한적입니다. 참고로 **AG Grid 역시 div 태그를 사용**합니다.

### 리팩토링 방향
3분기에 구조 수정을 진행하려 했는데, 렌더링 방식을 우선 리팩토링하는게 좋을 것 같습니다.

**원하는 진행 방향:**
- Props 구조는 동일하게 가져가고 내부 렌더링 구조만 table → div로 교체
- 테이블 컴포넌트 내부 이외의 변경 사항은 없게끔 리팩토링

### 가상화 관련
확실한 건 최적화를 위해 결국 가상화를 사용해야 할 것 같은데, 가상화는 미리 고려되어야 다양한 기능 구현을 할 때 그에 맞춰 진행할 수 있을 것 같습니다.

가상화를 적용하는 경우 결국 **absolute 기반의 렌더링**이 되기 때문에 이에 대한 고려가 선행되어야 할 것 같습니다.

### 일정
2분기 작업 진행 끝나면 바로 테이블 관련 작업을 시작하게 될 것 같습니다. 리팩토링 경험상 생각보다 많은 시간을 잡아야 할 거라 판단해서, 2분기 작업 진행하며 작업 계획을 세워놓고 2분기 작업 마무리와 동시에 빠르게 수정 작업을 들어가야 어느 정도 리소스 관리가 될 것 같다는 생각입니다.

### 빌트인 가상화
가상화는 빌트인으로 들어가는게 좋지 않을까 하는 생각이 듭니다. AG Grid에서도 기본적으로 가상화를 적용하는 것 같고, 실제 적용하면서 느낀 점도 기본적으로 가상화로 동작하게 하고, 거기에 기능을 붙이는게 수정이나 기능 추가가 편했습니다.

---

## 결정 필요 사항

| 항목 | 결정 |
|------|------|
| div 태그 사용 | 검토 중 |
| 빌트인 가상화 | 검토 중 |

---

## 결정 사항

지금 당장 Div 구조에 빌트인 가상화로 가기에는 조금 놓치고 있는게 있지 않을까 하는 생각이 듭니다.

고려해야 할 사항:
- 페이지 검색시 가상화가 되어 있다면 요소에 대한 검색이 안될 수 있음
- 스크롤 동작 방식
- absolute 기반의 렌더링 방식 등 다양한 측면에서 사이드 이펙트 조사 필요

**결론**: 각자 div와 가상화에 대한 리서치를 진행한 후 수요일에 결정을 내리고 이후 진행 방식에 대해 결정하겠습니다.

---

## 관련 태스크
- [[Table]] - Table 문서 (상위)
