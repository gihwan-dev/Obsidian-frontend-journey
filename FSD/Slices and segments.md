## Slices
슬라이스는 Feature-Sliced Design의 조직적 계층 구조에서 두 번째 수준이다. 슬라이스의 주요 목적은 제품, 비즈니스, 또는 애플리케이션에 대한 의미에 따라 코드를 그룹화하는 것이다.

슬라이스의 이름은 표준화되어 있지 않다. 이는 애플리케이션의 비즈니스 도메인에 의해 직접적으로 결정되기 때문이다. 예를 들어, 사진 갤러리는 `photo`, `effects`, `gallery-page`와 같은 슬라이스를 가질 수 있다. 소셜 네트워크는 이와 다른 슬라이스들이 필요할 것이다. 예를 들어, `post`, `comments`, `news-feed` 등이다.

Shared와 App 계층은 슬라이스를 포함하지 않는다. 이는 Shared는 비즈니스 로직을 전혀 포함하지 않아야 하므로 제품에 대한 의미가 없고, App은 전체 애플리케이션에 관한 코드만 포함해야 하므로 분할이 필요하지 않기 때문이다.

## 결합도 제로와 높은 응집도

슬라이스는 독립적이고 높은 응집도를 가진 코드 파일들의 그룹이 되도록 설계되었다. 아래의 그래픽은 응집도와 결합도라는 까다로운 개념을 시각화하는 데 도움이 될 수 있다:
![[Pasted image 20250214223741.png]]
Image inspired by [https://enterprisecraftsmanship.com/posts/cohesion-coupling-difference/](https://enterprisecraftsmanship.com/posts/cohesion-coupling-difference/)

이상적인 슬라이스는 같은 계층의 다른 슬라이스들과 독립적이며(결합도 제로), 자신의 주요 목적과 관련된 대부분의 코드를 포함한다(높은 응집도).

슬라이스의 독립성은 계층에 대한 임포트 규칙에 의해 강제된다:

> 슬라이스 내의 모듈(파일)은 오직 자신보다 엄격하게 아래에 위치한 계층의 다른 슬라이스들만 임포트할 수 있다.

## Slice의 Public API 규칙
슬라이스 내부에서는 원하는 방식으로 코드를 구성할 수 있다. 슬라이스가 다른 슬라이스들이 사용할 수 있는 좋은 public API를 제공하는 한 문제가 되지 않는다. 이는 **슬라이스에 대한 public API 규칙**에 의해 강제된다:

> 모든 슬라이스(그리고 슬라이스가 없는 계층의 세그먼트)는 public API 정의를 포함해야 한다.
> 
> 이 슬라이스/세그먼트 외부의 모듈들은 슬라이스/세그먼트의 내부 파일 구조가 아닌 public API만 참조할 수 있다.

public API의 근거와 생성에 대한 모범 사례는 [[Public API]] 참조에서 자세히 읽어볼 수 있다.

## slice 그룹
연관성이 높은 슬라이스들은 한 폴더에 구조적으로 그룹화할 수 있지만, 다른 슬라이스들과 동일한 격리 규칙을 따라야 한다 -- 해당 폴더 내에서는 **코드 공유가 없어야** 한다.
![[Pasted image 20250214225950.png]]

## Segments
세그먼트는 조직적 계층 구조의 세 번째이자 마지막 수준이며, 그 목적은 기술적 특성에 따라 코드를 그룹화하는 것이다. 몇 가지 표준화된 세그먼트 이름들이 있다:
- `ui`: UI 표시와 관련된 모든 것: UI 컴포넌트, 날짜 포매터, 스타일 등
- `api`: 백엔드와 상호작용 - 요청 함수, 데이터 타입, 매퍼 등
- `model`: 데이터 모델 - 스키마, 인터페이스, 스토어, 비즈니스 로직
- `lib`: 이 슬라이스의 다른 모듈들이 필요로 하는 라이브러리 코드
- `config`: 설정 파일과 기능 플래그

각 세그먼트가 다른 계층에서 어떻게 사용될 수 있는지에 대한 예시는 [[Layers]] 페이지를 참조해라. 커스텀 세그먼트를 만들 수도 있다.

커스텀 세그먼트가 가장 흔히 사용되는 곳은 슬라이스가 의미가 없는 App 계층과 Shared 계층이다.

이러한 세그먼트의 이름은 내용의 본질이 아닌 목적을 설명하도록 해야 한다. 예를들어, `components`, `hooks`, `types`는 코드를 찾을 때 그다지 도움이 되지 않기 때문에 좋지 않은 세그먼트 이름이다.
