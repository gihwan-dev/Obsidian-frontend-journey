# 종료 조건 시스템

#claude-gui-app #중기 #무한루프

## 요약
무한 루프 모드의 자동 종료를 위한 조건 시스템을 구현한다. 자연어 기준, 커맨드 기준, Claude 자율 판단을 지원하며 조합 가능하다.

## 왜?
- 무한 루프가 "정말로 무한"하면 비용 폭주와 무의미한 반복 발생
- 작업의 성격에 따라 종료 기준이 다름 (타입 에러 0개, 테스트 통과, 코드 품질 등)
- 유연한 조건 시스템이 없으면 루프 모드의 실용성이 크게 저하됨

## 어떻게?
1. 종료 조건 타입:
   - **수동 중지**: 사용자가 직접 정지 버튼 클릭
   - **자연어 기준**: "타입 에러가 0개가 될 때까지" → 프롬프트에 포함
   - **커맨드 기준**: 매 사이클 후 `tsc --noEmit` 실행 → exit code 0이면 종료
   - **Claude 자율 판단**: "더 개선할 것 없다고 판단되면 종료해" → Claude의 stop_reason 파싱
2. 조건 조합: AND/OR 로직으로 여러 조건 결합
3. 조건 설정 UI: 드래그앤드롭 또는 폼 기반 조건 빌더
4. 매 사이클 후 조건 평가 → 결과 로그에 기록

## 예상 효과
- 목표 기반 자동 작업 완료 가능
- 불필요한 사이클 낭비 방지
- 다양한 작업 시나리오에 유연하게 대응

## 작업 로그

