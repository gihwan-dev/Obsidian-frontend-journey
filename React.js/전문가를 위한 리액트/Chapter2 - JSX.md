- JSX는 JavaScript eXtension, 즉 자바스크립트 확장 문법을 의미함.

## JSX의 장점
- 더 쉬운 읽기 및 쓰기
- 향상된 보안
	- '<' 및 '>' 같은 위험한 문자가 HTML 문자열에 포함되어 있다면, JSX 코드를 컴파일 할 때 다른 문자로 바꿈(&lt, &gt). 이 과정을 데이터 소독(sanitization) 이라고 함
- 강력한 타이핑
	- 타입 시스템을 통해 오류가 발생하기 전에 잡아낼 수 있음
	- JSDoc 또는 propTypes를 사용해 타입 안정성 향상 가능
- 컴포넌트 기반 아키텍처
- 광번위한 사용

## JSX의 약점
- 학습 곡선 가중
- 전용 도구 필요
	- 컴파일러 필요
- 관심사 혼합
	- 일부는 HTML과 자바스크립트가 결합되어 관심사를 혼합시키고, 표현과 논리를 분리하기 어렵게 만든다고 주장함
- 자바스크립트 호환성 부족

## 내부 동작
### 코드의 동작 방식
- 코드를 이해하면 JSX를 더 잘 이해할 수 있음
- 컴파일러는 특정 규칙에 따라 작성된 소스코드를 구문 트리로 변환함
- 어휘 분석, 구문 분석, 의미 분석, 최적화, 코드 생성 등 여러 단계
- 자바스크립트는 3단계 과정을 거침
#### 토큰화
- 문자열을 의미 있는 **토큰**으로 분해
- 토크나이저가 상태를 가짐
- 각 토큰이 자신의 부모나 자식에 관한 상태를 포함할 때 토크나이저를 렉서라고 부름
- 렉싱은 상태를 가지는 토큰화
- 렉서는 렉서 규칙이 있음
- 이 규칙으로 정규 표현식을 사용해 변수 이름, 객체 키 및 값 같은 주요 토큰을 감지
#### 구문 분석
- 토큰을 가져와 구문 트리로 변환하는 과정
- 구문 트리는 코드의 구조를 나타내는 자료 구조
#### 코드 생성
- 컴파일러가 AST에서 기계어를 생성하는 과정
### JSX로 자바스크립트 구문 확장하기
- 기존 엔진에 새로운 구문 확장을 추가하는건 불가능함
- 기존 엔진보다 앞서 새로운 구문을 처리하도록 하는게 쉬움
- 이를 위해 확장 언어(JSX)를 이해하는 렉서와 구문 분석기를 만들어야함
- 이러한 일을 바벨, 타입스크립트, 트레이서, SWC 같은 도구가 함
- 확장된 문법을 전처리해 엔진이 이해할 수 있는 바닐라 JS를 생성함
- 그렇기에 JSX는 '빌드 단계'가 반드시 필요함
- 이러한 과정을 '트래스파일 한다'고 함
- 트랜스파일은 한 언어로 작성된 소스 코드를 추상화 수준이 비슷한 다른 언어로 변환하는 과정임. 그래서 소스 대 소스 컴파일 이라고도 함
- 개념은 컴파일과 거의 동일하지만, 대상 언어의 추상화 수준이 원본 언어와 비슷하다는 점이 다름

## JSX 프라그마
- JSX 프라그마는 모두 `<`로 시작하는데, 자바스크립트에서 이 문자는 비교 연한살 때를 제외하면 인식하지 못하는 문자임. 자바스크립트 엔진은 이 문자를 발견하면 `Syntax Error: Unexpected token '<'` 요류를 던짐

> **JSX 프라그마**
> 컴파일러에 특정 작업을 수행하도록 지시하는 지시어를 뜻함

- 프라그마는 언어 자체에 내포된 것 이상의 추가 정보를 컴파일러에 제공할 때 사용하는 컴파일러 지시어
	- use strict 브리그마가 있음
- 구문 분석기가 `<` 프라그마를 만날 때 호출할 함수의 이름 설정이 가능함
- `React.createElement`(예전 버전) 또는 `jsxs(최신 버전)`가 기본값으로 정해짐
- 함수 시그니처는 아래와 같음:
```js
function pragma(tag, props, ...children)
```

- 아래는 JSX가 변환되는 예제임
```jsx
// jsx
<MyComponent prop="속성값">콘텐츠</MyComponent>

// js
React.createElement(MyComponent, { prop: "속성값" }, "콘텐츠");
```

- 사실상 JSX 프라그마(`<`)는 `React.createElement` 대신 `<` 문자를 사용하는 별칭에 불과함

## 표현식
- JSX의 강력한 기능 하나는 엘리먼트 트리 내부에서 코드를 실행하는 것
- 중괄호 안에 표현식을 넣을 수 있음
- 문장(statement)은 실행할 수 없음

## 복습하기
1. JSX란 무엇이며, 장단점은 무엇일까?
	1. 자바스크립트 코드 안에서 HTML / XML과 유사한 문법을 사용할 수 있음
	2. **장점:** 가독성이 높고, 자동 데이터 소독(보안), 타입 안정성 확보, 컴포넌트 기반 아키텍처 지원, 광범위한 사용
	3. **단점:** 학습 곡선, 컴파일러 필요, HTML + JS 혼합으로 관심사분리가 어렵다고 보는 시각이 있음, JS와 100% 호환되지 않음
2. JSX와 HTML의 차이점은?
	1. JSX는 자바스크립트 확장 문법이라 빌드 과정(트랜스파일)을 거쳐 바닐라 JS 코드로 변환
	2. HTML은 브라우저가 직접 해석 가능하지만, JSX는 `React.createElement` 같은 함수 호출로 변환되어야함
3. 텍스트 문자열은 어떻게 기계어가 될까?
	1. 토큰화 -> 구문 분석 -> 코드 생성 과정을 거친다
	2. 토큰화를 통해 의미있는 조각으로 나눈 후, 구문 분석으로 구문 트리를 만들고, AST 바탕으로 컴파일러가 기계어를 생성
4. JSX 표현식이란 무엇이며 어떤 좋은 점이 있을까?
	1. 중괄호 `{}` 안에 자바스크립트 표현식을 넣을 수 있다


