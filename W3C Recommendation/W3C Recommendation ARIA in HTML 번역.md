## 요약

이 문서는 HTMl 요소에서 WAI-ARIA 1.2와 디지털 출판용 WAI-ARIA 모듈 1.0 속성을 사용하기 위한 작성 규칙을 정의한다.

주요 목적:
- 웹 개발자가 접근성 준수 여부를 확인할 때 참고할 수 있는 요구사항 정의
- HTML에서 ARIA를 활용하여 사용자 정의 인터페이스나 위젯을 개발할 때 필요한 가이드라인 제공

이 문서를 통해 개발자는 HTML의 기능을 보완하거나 확장하기 위해 ARIA를 올바르게 사용하는 방법을 이해할 수 있다.

## 1. HTML에서 ARIA를 사용하기 위한 규칙

ARIA `role`과 `aria-*` 속성을 사용해 HTML 요소의 의미(시멘틱)를 변경할 수 있다. 단, 다음 경우에는 사용을 제한한다:
1. HTML 요소의 **강력한 고유 시멘틱**과 충돌하는 경우
2. HTML 요소의 **암묵적 ARIA 시멘틱**과 동일한 경우

주요 규칙:
- ✅ WAI-ARIA 요구사항에 따라 시멘틱 변경 가능
- ❌ HTML의 고유 의미와 충돌하는 ARIA 사용 금지
- ⚠️ 불필요하게 암묵적 시맨틱과 동일한 ARIA 속성 사용 비권장

이러한 제한 사항이 존재하는 이유:
- 보조 기술이 실제 UI와 다른 잘못된 정보를 제공하는 것을 방지
- 불필요한 중복을 피하고 잠재적 문제 예방

## 2. HTML을 확장하고 변형하는 ARIA 시멘틱

ARIA를 사용하면 HTML의 기본 기능을 넘어서는 의미를 부여할 수 있다. 이는 HTML만으로는 구현할 수 없는 위젯을 만들거나, HTML 요소에 특정 접근성 상태와 속성을 추가할 때 유용하다.

1. HTML 기능 확장의 예: 버튼의 누름 상태
```html
<button aria-pressed="true">...</button>
```
- HTML `button`은 기본적으로 "눌림" 상태를 표현할 수 없음
- `aria-pressed` 속성으로 시각적 표현을 보조기기에도 전달 가능

2. HTML과 ARIA의 차이점: 비활성화된 링크
```html
<a role="link" aria-diabled="true">...</a>
```
- HTML은 링크의 비활성화 상태(`<a disabled>`)를 지원하지 않음
- ARIA는 `aria-disabled` 속성으로 이 상태를 표현할 수 있음
- 단, 실제 기능적 비활성화는 되지 않고 상태 전달만 가능

주의사항:
- HTML과 ARIA의 기능이 겹치는 경우, 지원 범위와 사용자 경험에 차이가 있을 수 있음
- HTML이 지원하지 않는 기능을 ARIA로 구현 할 때는, 완전한 커스텀 ARIA 위젯으로 만드는 것이 좋음

## 3. ARIA을 잘 사용하기 위한 가이드

### 3.1 인터랙티브 요소의 역할 변경 시 주의사항

인터랙티브 요소(예: `button`)를 비인터랙티브 요소(예: 제목)로 변경하는 것은 권장하지 않는다.

❌ 잘못된 예시:
```html
<button role="heading">search</button>
```

이렇게 하면 안되는 이유:
1. `button`의 기본 기능이 제목(heading)의 예상 동작과 충돌
2. 기본 기능과 스타일을 완전히 제거하기 어려움
3. 특수한 상황에서 문제 발생 가능:
	1. Windows 고대비 테마 사용 시
	2. 브라우저의 리더 모드 사용 시

💡 더 나은 방법:
- 목적에 맞는 적절한 HTML 요소 선택
- 필요한 경우, 비인터랙티브 요소에 인터랙티브 역할 부여는 가능
- 의미에 맞는 마크업 구조 사용

### 3.2 중목 역할(Role) 지정 피하기

HTML 요소에 이미 내장된 역할(implicit role)과 동일한 ARIA 역할을 명시적으로 지정하는 것은 불필요하다.

❌ 피해야 할 예시:
```html
<!-- 불필요한 role 지정 -->
<button role="button">...</button>
<fieldset role="group">...</fieldset>
<main role="Main">...</main>
```

이러한 중복 지정이 문제가 되는 이유:
1. 불필요하게 마크업이 복잡해짐
2. 다른 개발자들에게 잘못된 예시를 보여줄 수 있음
3. 일부 상황에서 예상치 못한 부작용 발생 가능

⚠️ 예외적인 상황:
```html
<ul role="list">...</ul>
```
- 일반적으로는 피해야 하지만 리스트 마커가 시작적으로 제거된 경우
- 일부 브라우저에서 암묵적 ARIA 시맨틱이 무시될 때 명시적 role 지정이 필요할 수 있음

💡 Best Practice:
- HTML 요소의 기본 역할 파악하기
- 불필요한 role 속성 제거
- 꼭 필요한 경우에만 명시적 role 지정

### 3.3 의도하지 않은 부작용 주의하기

HTML 요소의 기본 역할을 ARIA로 변경할 때는 예상치 못한 부작용이 발생할 수 있으니 주의해야 한다.

❌ 문제가 되는 예시:
```html
<details>
	<summary role="button">more information</summary>
	...
</details>
```

이런 코드가 문제가 되는 이유:
1. `summary` 요소의 상태(state) 정보가 제대로 전달되지 않음
2. 브라우저나 필랫폼 특화 기능이 무시될 수 있음
3. 기본 동작이 의도치 않게 변경될 수 있음

💡 올바른 접근 방법:
- HTML 요소의 기본 기능을 최대한 활용
- 꼭 필요한 경우가 아니면 기본 역할 유지
- 플랫폼별 특성을 고려한 설계

### 3.4 ARIA 규칙 준수하기

ARIA를 사용할 때는 **WAI-ARIA 1.2**에서 정의한 규칙을 반드시 준수해야 한다.

#### 1. 추상 역할(Abstract Roles) 사용 금지

❌ 잘못된 예시:
```html
<div role="select">...</div>
```
- 추상 역할은 개발자가 직접 사용하면 안 됨. 대신 구체적인 역할(예: `combox`) 사용

#### 2. `generic` 역할 사용 자제

❌ 피해야 할 예시:
```html
<article role="generic">...</article>
```

💡 대신 사용할 수 있는 방법:
- `div`나 `span` 같은 기본 요소 사용
- 불가피한 경우 `role="presentation"` 또는 `role="none"` 사용

#### 3. HTML 속성과 ARIA 속성 충돌 주의

❌ 잘못된 예시:
```html
<input type="checkbox" checked aria-checked="false" />
```
- HTML 기본 속성이 ARIA 속성보다 우선됨
- 이 경우 `aria-checked`는 무시되고 `checked` 속성이 적용됨

### 3.5 HTML 규칙 준수하기

ARIA로 HTML 요소의 접근성 의미를 변경할 수 있지만, HTML의 기본적인 파싱 규칙과 콘텐츠 모델은 변경할 수 없습니다.

❌ 문제가 되는 예시:
```html
<p>
	...
	<div role="link" tabindex="0">...</div>
	...
</p>
```

이 코드의 문제점:
	1. `p` 태그 안에 `div`를 넣을 수 없음 (HTML 파싱 규칙 위반)
	2. 브라우저는 자동으로 다음과 같이 변환:
```html
<p>...</p>
	<div role="link" tabindex="0">...</div>
	...
<p></p>
```

✅ 올바른 해결 방법:
```html
<p>
	...
	<span role="link" tabindex="0">...</span>
	...
</p>
```

주요 포인트:
1. ARIA role이 허용되더라도 HTML 문법 규칙은 반드시 준수
2. 컨텍스트에 맞는 적절한 HTML 요소 선택 필요
3. 잘못된 중첩 구조는 예상치 못한 렌더링과 접근성 문제 발생

💡 개발 시 주의사항:
- HTML 요소의 콘텐츠 모델 이해하기
- 적절한 인라인/블록 요소 선택